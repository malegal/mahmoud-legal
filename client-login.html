<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام متابعة القضايا - مؤسسة محمود عبد الحميد</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #020617;
            --gold-gradient: linear-gradient(135deg, #bf953f 0%, #fcf6ba 45%, #b38728 50%, #fbf5b7 55%, #aa771c 100%);
            --gold-solid: #bf953f;
            --gold-glow: rgba(191, 149, 63, 0.5);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body { 
            font-family: 'Tajawal', sans-serif; 
            background-color: var(--primary-dark); 
            color: #f8fafc; 
            min-height: 100vh;
        }
        
        .gold-text { 
            background: var(--gold-gradient); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text;
        }
        
        .gold-btn { 
            background: var(--gold-gradient); 
            color: #1a1a1a; 
            font-weight: 800; 
            transition: all 0.4s; 
            box-shadow: 0 0 20px var(--gold-glow);
            border: none;
            cursor: pointer;
        }
        
        .gold-btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 0 30px var(--gold-glow); 
        }
        
        .card-glass { 
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px); 
            border: 1px solid rgba(191, 149, 63, 0.15); 
            border-radius: 1.5rem; 
            transition: all 0.3s ease; 
        }
        
        .gold-border {
            position: relative;
            overflow: hidden;
        }
        
        .gold-border::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            border: 2px solid transparent;
            border-radius: 1.5rem;
            background: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728) border-box;
            -webkit-mask: 
                linear-gradient(#fff 0 0) padding-box, 
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: destination-out;
            mask-composite: exclude;
            pointer-events: none;
        }
        
        .input-field {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--gold-solid);
            box-shadow: 0 0 0 3px rgba(191, 149, 63, 0.1);
        }
        
        .security-badge {
            background: rgba(37, 99, 235, 0.1);
            border: 1px solid rgba(37, 99, 235, 0.3);
            color: #60a5fa;
        }
        
        .whatsapp-float { 
            position: fixed; 
            bottom: 30px; 
            right: 30px; 
            background: #25d366; 
            color: white; 
            width: 60px; 
            height: 60px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 30px; 
            z-index: 1000; 
            box-shadow: 0 10px 30px rgba(37, 211, 102, 0.3); 
            transition: transform 0.3s ease; 
            text-decoration: none;
        }
        
        .whatsapp-float:hover { 
            transform: scale(1.1); 
        }
    </style>
</head>
<body class="min-h-screen flex flex-col bg-gradient-to-b from-gray-900 to-black">

    <!-- زر الواتساب العائم -->
    <a href="https://wa.me/201101076000" target="_blank" class="whatsapp-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- الهيدر المشابه للموقع الرئيسي -->
    <header class="border-b border-gold-solid/30 bg-black/90 backdrop-blur-lg">
        <nav class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <a href="../index.html" class="flex items-center gap-3">
                    <img src="logo.png" alt="شعار مؤسسة محمود عبد الحميد" class="w-16 h-16 object-contain">
                    <div class="flex flex-col">
                        <h1 class="text-lg font-black gold-text serif-font">محمود عبد الحميد</h1>
                        <p class="text-[10px] text-gray-300 font-bold">المحامي بالنقض والدستورية العليا</p>
                    </div>
                </a>
            </div>
            
            <div class="hidden md:flex items-center gap-6 text-sm font-bold">
                <a href="../index.html" class="text-white hover:gold-text transition">الرئيسية</a>
                <a href="../index.html#booking" class="text-white hover:gold-text transition">طلب استشارة</a>
                <a href="tel:01101076000" class="text-white hover:gold-text transition">اتصل بنا</a>
            </div>
            
            <a href="../index.html" class="text-sm text-gray-400 hover:text-white">
                <i class="fas fa-home ml-2"></i>
                العودة للرئيسية
            </a>
        </nav>
    </header>

    <!-- المحتوى الرئيسي -->
    <main class="flex-1 flex items-center justify-center p-4">
        <div class="max-w-4xl w-full">
            <!-- قسم البطاقة الرئيسية -->
            <div class="card-glass gold-border p-2 mb-8">
                <div class="p-8 md:p-12">
                    <div class="text-center mb-10">
                        <div class="w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-gold-solid to-transparent flex items-center justify-center">
                            <i class="fas fa-lock text-3xl gold-text"></i>
                        </div>
                        <h1 class="text-3xl md:text-4xl font-black gold-text mb-4">نظام متابعة القضايا</h1>
                        <p class="text-gray-300 text-lg">تابع قضيتك بكل سهولة وأمان مع مؤسسة محمود عبد الحميد للمحاماة</p>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- نموذج الدخول -->
                        <div class="space-y-8">
                            <div>
                                <h2 class="text-2xl font-bold gold-text mb-6">الدخول لمتابعة قضيتك</h2>
                                <p class="text-gray-300 mb-6">أدخل بيانات الدخول الخاصة بقضيتك للاطلاع على آخر التحديثات والمستندات</p>
                            </div>
                            
                            <form id="loginForm" class="space-y-6">
                                <div>
                                    <label class="block text-white mb-2 font-bold">رقم القضية</label>
                                    <input type="text" 
                                           id="caseNumber" 
                                           placeholder="مثال: 2024/12345"
                                           class="input-field w-full p-4 rounded-xl"
                                           required>
                                    <p class="text-gray-400 text-sm mt-2">يمكنك العثور عليه في أوراق القضية أو مراسلات المحامي</p>
                                </div>
                                
                                <div>
                                    <label class="block text-white mb-2 font-bold">رقم الهاتف المسجل</label>
                                    <input type="tel" 
                                           id="clientPhone" 
                                           placeholder="مثال: 01101076000"
                                           class="input-field w-full p-4 rounded-xl"
                                           required>
                                    <p class="text-gray-400 text-sm mt-2">نفس رقم الهاتف الذي قدمته عند بدء القضية</p>
                                </div>
                                
                                <div id="otpSection" class="hidden">
                                    <label class="block text-white mb-2 font-bold">كود التحقق</label>
                                    <div class="flex gap-2">
                                        <input type="text" 
                                               maxlength="1"
                                               class="input-field w-16 h-16 text-center text-2xl rounded-lg"
                                               oninput="moveToNext(this, 1)">
                                        <input type="text" 
                                               maxlength="1"
                                               class="input-field w-16 h-16 text-center text-2xl rounded-lg"
                                               oninput="moveToNext(this, 2)">
                                        <input type="text" 
                                               maxlength="1"
                                               class="input-field w-16 h-16 text-center text-2xl rounded-lg"
                                               oninput="moveToNext(this, 3)">
                                        <input type="text" 
                                               maxlength="1"
                                               class="input-field w-16 h-16 text-center text-2xl rounded-lg"
                                               oninput="moveToNext(this, 4)">
                                    </div>
                                    <div class="flex justify-between items-center mt-2">
                                        <button type="button" onclick="resendOTP()" class="text-gold-solid text-sm hover:underline">
                                            إعادة إرسال الكود
                                        </button>
                                        <span id="otpTimer" class="text-gray-400 text-sm">02:00</span>
                                    </div>
                                </div>
                                
                                <button type="button" onclick="login()" class="gold-btn w-full py-4 rounded-xl text-lg font-bold">
                                    <i class="fas fa-sign-in-alt ml-2"></i>
                                    الدخول إلى القضية
                                </button>
                                
                                <div class="text-center">
                                    <p class="text-gray-400">
                                        أول مرة تستخدم النظام؟
                                        <a href="../index.html#booking" class="text-gold-solid hover:underline font-bold">
                                            تواصل معنا لإنشاء حساب
                                        </a>
                                    </p>
                                </div>
                            </form>
                        </div>
                        
                        <!-- قسم المعلومات والمساعدة -->
                        <div class="space-y-8">
                            <div class="card-glass p-6 rounded-2xl">
                                <h3 class="text-xl font-bold gold-text mb-4">
                                    <i class="fas fa-info-circle ml-2"></i>
                                    معلومات مهمة
                                </h3>
                                <ul class="space-y-3 text-gray-300">
                                    <li class="flex items-start">
                                        <i class="fas fa-check text-gold-solid ml-3 mt-1"></i>
                                        <span>النظام يعمل على مدار الساعة لمتابعة قضيتك</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check text-gold-solid ml-3 mt-1"></i>
                                        <span>يمكنك الاطلاع على آخر التحديثات والجلسات</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check text-gold-solid ml-3 mt-1"></i>
                                        <span>إمكانية تحميل المستندات والملفات الخاصة بالقضية</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check text-gold-solid ml-3 mt-1"></i>
                                        <span>التواصل المباشر مع المحامي عبر النظام</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="card-glass p-6 rounded-2xl">
                                <h3 class="text-xl font-bold gold-text mb-4">
                                    <i class="fas fa-shield-alt ml-2"></i>
                                    الحماية والأمان
                                </h3>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between p-3 bg-gray-900/50 rounded-lg">
                                        <div class="flex items-center gap-3">
                                            <i class="fas fa-lock text-gold-solid"></i>
                                            <span class="text-sm">تشفير البيانات</span>
                                        </div>
                                        <span class="security-badge text-xs px-2 py-1 rounded">مفعل</span>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-3 bg-gray-900/50 rounded-lg">
                                        <div class="flex items-center gap-3">
                                            <i class="fas fa-user-shield text-gold-solid"></i>
                                            <span class="text-sm">حماية الخصوصية</span>
                                        </div>
                                        <span class="security-badge text-xs px-2 py-1 rounded">مفعل</span>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-3 bg-gray-900/50 rounded-lg">
                                        <div class="flex items-center gap-3">
                                            <i class="fas fa-history text-gold-solid"></i>
                                            <span class="text-sm">سجلات المراجعة</span>
                                        </div>
                                        <span class="security-badge text-xs px-2 py-1 rounded">مفعل</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-gray-900 to-black border border-gray-800 rounded-2xl p-6">
                                <h4 class="font-bold text-white mb-4">هل تحتاج مساعدة؟</h4>
                                <div class="space-y-3">
                                    <a href="tel:01101076000" 
                                       class="flex items-center justify-between p-3 bg-white/5 hover:bg-white/10 rounded-lg transition">
                                        <div class="flex items-center gap-3">
                                            <i class="fas fa-phone text-gold-solid"></i>
                                            <span>الاتصال المباشر</span>
                                        </div>
                                        <i class="fas fa-arrow-left text-gray-400"></i>
                                    </a>
                                    
                                    <a href="https://wa.me/201101076000" target="_blank"
                                       class="flex items-center justify-between p-3 bg-white/5 hover:bg-white/10 rounded-lg transition">
                                        <div class="flex items-center gap-3">
                                            <i class="fab fa-whatsapp text-green-400"></i>
                                            <span>الواتساب</span>
                                        </div>
                                        <i class="fas fa-arrow-left text-gray-400"></i>
                                    </a>
                                    
                                    <a href="../index.html#booking"
                                       class="flex items-center justify-between p-3 bg-white/5 hover:bg-white/10 rounded-lg transition">
                                        <div class="flex items-center gap-3">
                                            <i class="fas fa-headset text-gold-solid"></i>
                                            <span>استشارة فورية</span>
                                        </div>
                                        <i class="fas fa-arrow-left text-gray-400"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- رسائل الحالة -->
            <div id="loadingMessage" class="hidden card-glass p-6 text-center mb-6">
                <div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gold-solid mb-4"></div>
                <p class="text-white">جاري التحقق من بيانات الدخول...</p>
            </div>
            
            <div id="errorMessage" class="hidden card-glass p-6 bg-red-900/20 border border-red-800 mb-6">
                <div class="flex items-center gap-3 mb-2">
                    <i class="fas fa-exclamation-triangle text-red-400"></i>
                    <h4 class="font-bold text-white">خطأ في الدخول</h4>
                </div>
                <p id="errorText" class="text-gray-300"></p>
            </div>
        </div>
    </main>

    <!-- الفوتر -->
    <footer class="border-t border-gray-800 bg-black/50 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="mb-6">
                <h3 class="text-lg font-bold gold-text mb-4">مؤسسة محمود عبد الحميد للمحاماة</h3>
                <p class="text-gray-400">المحامي بالنقض والدستورية العليا - خبرة أكثر من ٢٠ عاماً</p>
            </div>
            
            <div class="flex justify-center gap-6 text-white/60 mb-6 text-xl">
                <a href="https://wa.me/201101076000" target="_blank" class="hover:text-green-400 transition">
                    <i class="fab fa-whatsapp"></i>
                </a>
                <a href="../index.html" class="hover:gold-text transition">
                    <i class="fas fa-home"></i>
                </a>
                <a href="mailto:ma.legal.eg@outlook.com" class="hover:text-blue-400 transition">
                    <i class="fas fa-envelope"></i>
                </a>
            </div>
            
            <p class="text-gray-500 text-sm">
                <i class="fas fa-lock ml-2"></i>
                جميع البيانات محمية ومشفرة وفق أعلى معايير الأمان
                <span class="mx-2">•</span>
                © ٢٠٢٥ جميع الحقوق محفوظة
            </p>
        </div>
    </footer>

    <!-- السكريبت -->
    <script>
        // بيانات تجريبية للقضايا
        const sampleCases = {
            "2024/12345": {
                phone: "01101076000",
                name: "أحمد محمد",
                caseTitle: "قضية تعويضات عقارية",
                status: "قيد النظر",
                otpEnabled: true
            },
            "2024/54321": {
                phone: "01234567890", 
                name: "سارة محمود",
                caseTitle: "قضية منازعات تجارية",
                status: "جلسة قادمة",
                otpEnabled: false
            }
        };
        
        // متغيرات OTP
        let otpTimer;
        let otpTimeLeft = 120;
        
        function moveToNext(input, nextIndex) {
            if (input.value.length === 1) {
                const nextInput = document.querySelector(`#otpSection input:nth-child(${nextIndex + 1})`);
                if (nextInput) nextInput.focus();
            }
        }
        
        function startOTPTimer() {
            otpTimeLeft = 120;
            updateOTPTimer();
            
            otpTimer = setInterval(() => {
                otpTimeLeft--;
                updateOTPTimer();
                
                if (otpTimeLeft <= 0) {
                    clearInterval(otpTimer);
                    document.getElementById('otpTimer').textContent = "انتهى الوقت";
                }
            }, 1000);
        }
        
        function updateOTPTimer() {
            const minutes = Math.floor(otpTimeLeft / 60);
            const seconds = otpTimeLeft % 60;
            document.getElementById('otpTimer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        function resendOTP() {
            // محاكاة إعادة إرسال OTP
            alert('تم إرسال كود تحقق جديد إلى هاتفك');
            startOTPTimer();
        }
        
        function login() {
            const caseNumber = document.getElementById('caseNumber').value.trim();
            const phone = document.getElementById('clientPhone').value.trim();
            
            // إظهار رسالة التحميل
            document.getElementById('loadingMessage').classList.remove('hidden');
            document.getElementById('errorMessage').classList.add('hidden');
            
            // محاكاة وقت التحقق
            setTimeout(() => {
                document.getElementById('loadingMessage').classList.add('hidden');
                
                // التحقق من وجود القضية
                if (sampleCases[caseNumber]) {
                    const caseData = sampleCases[caseNumber];
                    
                    if (caseData.phone === phone) {
                        if (caseData.otpEnabled) {
                            // إظهار قسم OTP
                            document.getElementById('otpSection').classList.remove('hidden');
                            startOTPTimer();
                            alert('تم إرسال كود تحقق إلى هاتفك: 1234');
                        } else {
                            // الانتقال مباشرة إلى لوحة التحكم
                            redirectToDashboard(caseNumber, caseData);
                        }
                    } else {
                        showError('رقم الهاتف غير متطابق مع رقم القضية');
                    }
                } else {
                    showError('رقم القضية غير صحيح أو غير مسجل في النظام');
                }
            }, 1500);
        }
        
        function verifyOTP() {
            const inputs = document.querySelectorAll('#otpSection input');
            let otp = '';
            inputs.forEach(input => otp += input.value);
            
            if (otp === '1234') { // كود تحقق تجريبي
                const caseNumber = document.getElementById('caseNumber').value.trim();
                const caseData = sampleCases[caseNumber];
                redirectToDashboard(caseNumber, caseData);
            } else {
                showError('كود التحقق غير صحيح');
            }
        }
        
        function redirectToDashboard(caseNumber, caseData) {
            // تخزين بيانات الجلسة
            sessionStorage.setItem('caseNumber', caseNumber);
            sessionStorage.setItem('clientName', caseData.name);
            sessionStorage.setItem('caseTitle', caseData.caseTitle);
            sessionStorage.setItem('caseStatus', caseData.status);
            
            // الانتقال إلى لوحة التحكم
            window.location.href = 'client-dashboard.html';
        }
        
        function showError(message) {
            document.getElementById('errorText').textContent = message;
            document.getElementById('errorMessage').classList.remove('hidden');
        }
        
        // إعداد استماع للنموذج
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            login();
        });
        
        // إعداد استماع لحقول OTP
        document.querySelectorAll('#otpSection input').forEach((input, index) => {
            input.addEventListener('input', function(e) {
                if (this.value.length === 1) {
                    moveToNext(this, index + 1);
                }
                
                // التحقق تلقائياً عند إدخال الرقم الرابع
                if (index === 3 && this.value.length === 1) {
                    setTimeout(verifyOTP, 500);
                }
            });
            
            // للسماح بالحذف والتنقل بالسهام
            input.addEventListener('keydown', function(e) {
                if (e.key === 'Backspace' && this.value.length === 0 && index > 0) {
                    const prevInput = document.querySelector(`#otpSection input:nth-child(${index})`);
                    if (prevInput) prevInput.focus();
                }
                
                if (e.key === 'ArrowLeft' && index > 0) {
                    const prevInput = document.querySelector(`#otpSection input:nth-child(${index})`);
                    if (prevInput) prevInput.focus();
                }
                
                if (e.key === 'ArrowRight' && index < 3) {
                    const nextInput = document.querySelector(`#otpSection input:nth-child(${index + 2})`);
                    if (nextInput) nextInput.focus();
                }
            });
        });
        
        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            // تحميل أي بيانات أولية
            console.log('نظام متابعة القضايا - جاهز للاستخدام');
        });
    </script>
</body>
</html>
